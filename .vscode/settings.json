{
    // Python environment - always use .venv
    "python.defaultInterpreterPath": "${workspaceFolder}/.venv/Scripts/python.exe",
    "python.terminal.activateEnvironment": true,
    "python.terminal.activateEnvInCurrentTerminal": true,
    
    // Python testing - pytest
    "python.testing.pytestEnabled": true,
    "python.testing.unittestEnabled": false,
    "python.testing.pytestArgs": [
        "."
    ],
    
    // Terminal - use PowerShell
    "terminal.integrated.defaultProfile.windows": "PowerShell",
    "terminal.integrated.env.windows": {
        "PATH": "${workspaceFolder}\\.venv\\Scripts;${env:PATH}",
        "VIRTUAL_ENV": "${workspaceFolder}\\.venv"
    },
    "terminal.integrated.profiles.windows": {
        "Git Bash": {
            "source": "Git Bash",
            "args": ["--login", "-i"]
        }
    },
    
    // Pylance settings
    "python.analysis.extraPaths": [],
    "python.languageServer": "Pylance",
    "python.analysis.diagnosticSeverityOverrides": {
        "reportMissingImports": "none",
        "reportMissingModuleSource": "none"
    },
    
    // Formatting - use Black
    "[python]": {
        "editor.defaultFormatter": "ms-python.black-formatter",
        "editor.formatOnSave": true
    },
    "black-formatter.path": ["${workspaceFolder}/.venv/Scripts/python.exe", "-m", "black"],
    
    // Linting - use Ruff
    "ruff.path": ["${workspaceFolder}/.venv/Scripts/python.exe", "-m", "ruff"],
    
    "[plaintext]": {
        "editor.wordWrap": "on",
        "editor.wordWrapColumn": 120
    },
    
    // Disable unnecessary extensions
    "extensions.ignoreRecommendations": true,
    "platformio-ide.disableToolbar": true,
    "platformio-ide.activateOnlyOnPlatformIOProject": true,
    
    "actionButtons": {
        "defaultColor": "#4ade80",
        "reloadButton": null,
        "loadNpmCommands": false,
        "commands": [
            {
                "name": "üéôÔ∏è Parakeet",
                "color": "#4ade80",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["Live Captions (Parakeet)"]
            },
            {
                "name": "üó£Ô∏è Whisper",
                "color": "#a78bfa",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["Live Captions (Whisper)"]
            },
            {
                "name": "üîä Vosk",
                "color": "#60a5fa",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["Live Captions (Vosk)"]
            },
            {
                "name": "üêõ Debug",
                "color": "#fbbf24",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["Live Captions (Parakeet + Debug)"]
            },
            {
                "name": "‚úÖ Check",
                "color": "#10b981",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["Check: Ruff, Black & Tests"]
            },
            {
                "name": "üß™ E2E",
                "color": "#8b5cf6",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["E2E: Run All Tests"]
            },
            {
                "name": "üì¶ Rebuild",
                "color": "#f97316",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask",
                "args": ["Rebuild: Live Captions Tray", "shell"]
            },
            {
                "name": "üê≥ Docker",
                "color": "#0db7ed",
                "useVsCodeApi": true,
                "command": "workbench.action.tasks.runTask"
            }
        ]
    }
}
