# ============================================================
# AI-Tools Global Configuration
# ============================================================
# Copy this file to .env and customize as needed:
#   cp .env.example .env
# ============================================================

# ============================================================
# API Keys (for future features)
# ============================================================
TAVILY_API_KEY=your_tavily_api_key_here
SERPER_API_KEY=your_serper_api_key_here

# ============================================================
# China Mirror Configuration
# ============================================================
# Default mirrors for Docker builds (China-optimized)
# Change these to use different mirrors or international URLs

APT_MIRROR=mirrors.aliyun.com
PYPI_MIRROR=https://mirrors.aliyun.com/pypi/simple/
PYPI_TRUSTED_HOST=mirrors.aliyun.com
HF_ENDPOINT=https://hf-mirror.com
PYTORCH_CUDA_MIRROR=https://mirrors.tuna.tsinghua.edu.cn/pytorch-wheels/cu128

# Alternative mirrors (uncomment to switch):
# APT_MIRROR=mirrors.tuna.tsinghua.edu.cn
# PYPI_MIRROR=https://pypi.tuna.tsinghua.edu.cn/simple/
# PYPI_TRUSTED_HOST=pypi.tuna.tsinghua.edu.cn

# International (outside China - requires VPN):
# APT_MIRROR=archive.ubuntu.com
# PYPI_MIRROR=https://pypi.org/simple/
# PYPI_TRUSTED_HOST=pypi.org
# HF_ENDPOINT=https://huggingface.co
# PYTORCH_CUDA_MIRROR=https://download.pytorch.org/whl/cu128

# ============================================================
# Whisper ASR Configuration
# ============================================================
# These settings affect streaming performance and accuracy

# VAD (Voice Activity Detection) - Skip silence for faster processing
WHISPER_VAD_FILTER=true          # Enable/disable VAD (true/false)
WHISPER_VAD_THRESHOLD=0.5        # Speech probability threshold (0.0-1.0, lower = more sensitive)

# Beam Search - Higher values = better accuracy but slower
WHISPER_BEAM_SIZE=5              # Number of beams (1-10, 1 = greedy, 5 = balanced)

# Language - Specify target language for transcription
WHISPER_LANGUAGE=en              # Language code (en, zh, yue, etc.)

# Chunk timing - Controls how audio is processed in streaming mode
WHISPER_CHUNK_DURATION_SEC=1.5   # Process audio in chunks of this duration (seconds)
WHISPER_MIN_AUDIO_SEC=0.3        # Minimum audio duration to process (seconds)

# ============================================================
# Parakeet ASR Configuration
# ============================================================
# Decoding strategy: greedy (fast) or beam (more accurate but slower)
PARAKEET_DECODING_STRATEGY=greedy
PARAKEET_BEAM_SIZE=1
PARAKEET_LANGUAGE=en

# Streaming parameters
PARAKEET_CHUNK_DURATION_SEC=0.5      # Process audio every 500ms
PARAKEET_MIN_CHUNK_SEC=0.2           # Minimum chunk size for processing
PARAKEET_SILENCE_THRESHOLD_SEC=2.0   # Silence duration before finalizing segment
PARAKEET_MAX_WORDS_PER_SEGMENT=30    # Max words before forcing segment finalization

# Offline transcription parameters
PARAKEET_MAX_AUDIO_CHUNK_SEC=18.0    # Max audio chunk size (NeMo limitation)
PARAKEET_OVERLAP_SEC=1.0             # Overlap between chunks for long audio

# Text refinement
PARAKEET_MIN_WORDS_FOR_PUNCTUATION=6 # Min words needed to trigger punctuation

# ============================================================
# FastConformer ASR Configuration
# ============================================================
# Attention context size: [70,6] = 480ms latency (balanced)
# Options: [70,0]=0ms (fastest), [70,1]=80ms, [70,6]=480ms, [70,33]=1040ms (most accurate)
FASTCONFORMER_ATT_CONTEXT_SIZE=[70,6]

# Decoder type: rnnt (more accurate) or ctc (faster)
FASTCONFORMER_DECODER_TYPE=rnnt

# Beam search parameters
FASTCONFORMER_BEAM_SIZE=1
FASTCONFORMER_BATCH_SIZE=1

# Streaming parameters
FASTCONFORMER_CHUNK_DURATION_SEC=0.5      # Process audio every 500ms
FASTCONFORMER_SILENCE_THRESHOLD_SEC=2.0   # Silence duration before finalizing segment

# ============================================================
# Ollama Configuration
# ============================================================
# Default model for Audio Notes summarization
OLLAMA_MODEL=qwen3:14b

